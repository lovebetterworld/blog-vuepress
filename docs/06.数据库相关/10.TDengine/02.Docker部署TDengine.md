---
title: 02.Docker部署TDengine
date: 2022-09-13 16:36:34
permalink: /TDengine/TDengine02/
categories: 
  - TDengine
tags: 
  - TDengine
---

## 1 Docker部署TDengine

```bash
docker run -d --name "tdengine" -h "myTDengine" -p 6041:6041 -p 6030-6035:6030-6035 -p 6030-6035:6030-6035/udp -v /data/tdengine/taos/log:/var/log/taos -v /data/tdengine/taos/data:/var/lib/taos tdengine/tdengine:2.6.0.16

#--name "myTDengine" ##指定容器名称便于访问
#-h "myTDengine"  ##指定容器主机名，用作TDengine的FQDN
#-p 6041:6041 ##映射RESTful端口
#-p 6030-6035:6030-6035
#-p 6030-6035:6030-6035/udp ##映射taos客户端使用端口，必须包含TCP和UDP
#-v /huanglei/v-TDengine/taos/log:/var/log/taos  ##映射日志目录
#-v /huanglei/v-TDengine/taos/data:/var/lib/taos    ##映射数据目录
#tdengine/tdengine:2.2.0.5 ## 最新的映像版本名称为tdengine
```

# 2 修改初始账号密码

## 2.1 进入容器

```bash
docker exec -it 容器id/容器名称  /bin/bash
```

## 2.2 执行 taos命令

在服务器 shell 中执行 taos 命令，TDengine 终端成功连接服务端，打印出了欢迎消息和版本信息。如果失败，会有错误信息打印出来。在 TDengine 终端中，可以通过 SQL 命令来创建/删除数据库、表、超级表等，并可以进行插入和查询操作。

```bash
root@myTDengine:~/TDengine-server-2.2.0.5# taos

Welcome to the TDengine shell from Linux, Client Version:2.2.0.5
Copyright (c) 2020 by TAOS Data, Inc. All rights reserved.

taos> 
```

## 2.3 修改服务端密码

进入TD数据库，修改TD的root密码，密码默认是：taosdata

```bash
[root@dev TDengine-server]# taos
 taos> alter user root pass 'root';
```

使用 `taos -uroot -proot`指令，进入TD数据库

```bash
root@myTDengine:~/TDengine-server-2.2.0.5# taos -uroot -proot
Welcome to the TDengine shell from Linux, Client Version:2.2.0.5
Copyright (c) 2020 by TAOS Data, Inc. All rights reserved.
taos> 
```